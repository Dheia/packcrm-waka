# ===================================
#  Form Field Definitions
# ===================================

fields:
    chart_1:
        label: wcli.crm::commercial.chart_1
        span: auto
        type: chartform
        chartType: pie_or_doughnut
        renderType: doughnut
        # labels: getLbVentesByGammes
        fnc: getVentesByGammesDataSet
        width: 100%
        height: 300px
        dataSets:
            first:
                attributes:
                    periode: d-30_to_now
    chart_2:
        label: wcli.crm::commercial.chart_2
        span: auto
        type: chartform
        chartType: bar_or_line
        renderType: bar
        # labels: getLbVentesByMonth
        fnc: getVentesByMonthDataSet
        dataSets:
            second:
                label: CA (N-1)
                attributes:
                    periode: y-1_to_now&y-1
            first:
                label: CA
                attributes:
                    periode: y_to_now
    chart_3:
        label: wcli.crm::commercial.chart_3
        span: full
        type: chartform
        chartType: bar_or_line
        renderType: bar
        # labels: getLbVentesByWeek
        fnc: getVentesByWeekDataSet
        dataSets:
            second:
                label: CA (N-1)
                attributes:
                    periode: d-365&y-1_to_now&y-1
            first:
                label: CA
                attributes:
                    periode: d-365_to_now
    clients:
        label: wcli.crm::commercial.clients
        span: full
        type: partial
        path: field_clients
    contacts:
        label: wcli.crm::commercial.contacts
        span: full
        type: partial
        path: field_contacts
secondaryTabs:
    fields:
        infos:
            label: wcli.crm::commercial.infos
            span: full
            type: modelinfo
            editPermissions: [wcli.crm.admin.*]
            tab: wcli.crm::commercial.tab_base
            src: wcli/crm/models/commercial/fields_for_side_bar.yaml
